<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Virtually the same: Comparing physical and virtual testbeds | Jonathan Crussell</title>
<meta name="keywords" content="virtualization, testbeds, security, emulation">
<meta name="description" content="Published at ICNC 2019.">
<meta name="author" content="Jonathan Crussell">
<link rel="canonical" href="/publication/crussell2019virtually/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.cb1b966424391d58a85617e342812e23e741186aa62baaf33e320fa5b85c2b0b.css" integrity="sha256-yxuWZCQ5HVioVhfjQoEuI&#43;dBGGqmK6rzPjIPpbhcKws=" rel="preload stylesheet" as="style">
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="/publication/crussell2019virtually/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="/publication/crussell2019virtually/">
  <meta property="og:site_name" content="Jonathan Crussell">
  <meta property="og:title" content="Virtually the same: Comparing physical and virtual testbeds">
  <meta property="og:description" content="Published at ICNC 2019.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="publication">
    <meta property="article:published_time" content="2019-02-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2019-02-18T00:00:00+00:00">
    <meta property="article:tag" content="Virtualization">
    <meta property="article:tag" content="Testbeds">
    <meta property="article:tag" content="Security">
    <meta property="article:tag" content="Emulation">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Virtually the same: Comparing physical and virtual testbeds">
<meta name="twitter:description" content="Published at ICNC 2019.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Publications",
      "item": "/publication/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Virtually the same: Comparing physical and virtual testbeds",
      "item": "/publication/crussell2019virtually/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Virtually the same: Comparing physical and virtual testbeds",
  "name": "Virtually the same: Comparing physical and virtual testbeds",
  "description": "Published at ICNC 2019.",
  "keywords": [
    "virtualization", "testbeds", "security", "emulation"
  ],
  "articleBody": "Jonathan Crussell, Thomas M Kroeger, Aaron Brown, Cynthia Phillips\n2019 International Conference on Computing, Networking and Communications (ICNC 2019)\nAbstract Network designers, planners, and security professionals increasingly rely on large-scale testbeds based on virtualization to emulate networks and make decisions about real-world deployments. However, there has been limited research on how well these virtual testbeds match their physical counterparts. Specifically, does the virtualization that these testbeds depend on actually capture real-world behaviors sufficiently well to support decisions?\nAs a first step, we perform simple experiments on both physical and virtual testbeds to begin to understand where and how the testbeds differ. We set up a web service on one host and run ApacheBench against this service from a different host, instrumenting each system during these tests.\nWe define an initial repeatable methodology (algorithm) to quantitatively compare physical and virtual testbeds. Specifically we compare the testbeds at three levels of abstraction: application, operating system (OS) and network. For the application level, we use the ApacheBench results. For OS behavior, we compare patterns of system call orderings using Markov chains. This provides a unique visual representation of the workload and OS behavior in our testbeds. We also drill down into read-system-call behaviors and show how at one level both systems are deterministic and identical, but as we move up in abstractions that consistency declines. Finally, we use packet captures to compare network behaviors and performance. We reconstruct flows and compare per-flow and per-experiment statistics.\nFrom these comparisons, we find that the behavior of the workload in the testbeds is similar but that the underlying processes to support it do vary. The low-level network behavior can vary quite widely in packetization depending on the virtual network driver. While these differences can be important, and knowing about them will help experiment designers, the core application and OS behaviors still represent similar processes.\nCitation @inproceedings{crussell2019virtually, title={Virtually the same: Comparing physical and virtual testbeds}, author={Crussell, Jonathan and Kroeger, Thomas M and Brown, Aaron and Phillips, Cynthia}, booktitle={2019 International Conference on Computing, Networking and Communications (ICNC)}, pages={847--853}, year={2019}, organization={IEEE} } Copy Links:\narXiv Project: minimega ",
  "wordCount" : "348",
  "inLanguage": "en",
  "datePublished": "2019-02-18T00:00:00Z",
  "dateModified": "2019-02-18T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Jonathan Crussell"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/publication/crussell2019virtually/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jonathan Crussell",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="Jonathan Crussell (Alt + H)">Jonathan Crussell</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/publication/" title="Publications">
                    <span>Publications</span>
                </a>
            </li>
            <li>
                <a href="/project/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/publication/">Publications</a></div>
    <h1 class="post-title entry-hint-parent">
      Virtually the same: Comparing physical and virtual testbeds
    </h1>
    <div class="post-description">
      Published at ICNC 2019.
    </div>
    <div class="post-meta"><span title='2019-02-18 00:00:00 +0000 UTC'>February 18, 2019</span>&nbsp;·&nbsp;<span>2 min</span>&nbsp;·&nbsp;<span>Jonathan Crussell</span>

</div>
  </header> 
  <div class="post-content"><p><strong>Jonathan Crussell, Thomas M Kroeger, Aaron Brown, Cynthia Phillips</strong></p>
<p><em>2019 International Conference on Computing, Networking and Communications (ICNC 2019)</em></p>
<h2 id="abstract">Abstract<a hidden class="anchor" aria-hidden="true" href="#abstract">#</a></h2>
<p>Network designers, planners, and security professionals increasingly rely on
large-scale testbeds based on virtualization to emulate networks and make
decisions about real-world deployments. However, there has been limited
research on how well these virtual testbeds match their physical counterparts.
Specifically, does the virtualization that these testbeds depend on actually
capture real-world behaviors sufficiently well to support decisions?</p>
<p>As a first step, we perform simple experiments on both physical and virtual
testbeds to begin to understand where and how the testbeds differ. We set up a
web service on one host and run ApacheBench against this service from a
different host, instrumenting each system during these tests.</p>
<p>We define an initial repeatable methodology (algorithm) to quantitatively
compare physical and virtual testbeds. Specifically we compare the testbeds at
three levels of abstraction: application, operating system (OS) and network.
For the application level, we use the ApacheBench results. For OS behavior, we
compare patterns of system call orderings using Markov chains. This provides a
unique visual representation of the workload and OS behavior in our testbeds.
We also drill down into read-system-call behaviors and show how at one level
both systems are deterministic and identical, but as we move up in abstractions
that consistency declines. Finally, we use packet captures to compare network
behaviors and performance. We reconstruct flows and compare per-flow and
per-experiment statistics.</p>
<p>From these comparisons, we find that the behavior of the workload in the
testbeds is similar but that the underlying processes to support it do vary.
The low-level network behavior can vary quite widely in packetization depending
on the virtual network driver. While these differences can be important, and
knowing about them will help experiment designers, the core application and OS
behaviors still represent similar processes.</p>
<div class="citation-section">
  <h2>Citation</h2>
  <div class="citation-container">
    <pre class="citation-code"><code class="language-bibtex">@inproceedings{crussell2019virtually,
  title={Virtually the same: Comparing physical and virtual testbeds},
  author={Crussell, Jonathan and Kroeger, Thomas M and Brown, Aaron and Phillips, Cynthia},
  booktitle={2019 International Conference on Computing, Networking and Communications (ICNC)},
  pages={847--853},
  year={2019},
  organization={IEEE}
}
</code></pre>
    <button class="citation-copy-btn" onclick="copyCitation(this)" aria-label="Copy citation">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span class="copy-text">Copy</span>
    </button>
  </div>
</div>

<script>
function copyCitation(button) {
  const citeBlock = button.parentElement.querySelector('.citation-code code');
  const text = citeBlock.textContent;

  navigator.clipboard.writeText(text).then(() => {
    const copyText = button.querySelector('.copy-text');
    const originalText = copyText.textContent;
    copyText.textContent = 'Copied!';

    setTimeout(() => {
      copyText.textContent = originalText;
    }, 2000);
  }).catch(err => {
    console.error('Failed to copy:', err);
  });
}
</script>
<hr />
<p><strong>Links:</strong></p>
<ul>
<li><a href="https://arxiv.org/abs/1902.01937">arXiv</a></li>
<li><a href="/project/minimega">Project: minimega</a></li>
</ul>



  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/virtualization/">Virtualization</a></li>
      <li><a href="/tags/testbeds/">Testbeds</a></li>
      <li><a href="/tags/security/">Security</a></li>
      <li><a href="/tags/emulation/">Emulation</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>© 2020-2026</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
